(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{1514:(e,s,t)=>{Promise.resolve().then(t.bind(t,5657))},5657:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(5155),r=t(2619),l=t.n(r),c=t(2800),i=t(2115);function n(){let{contract:e,isLoading:s}=(0,c.L)(),[t,r]=(0,i.useState)([]),[n,d]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(async()=>{if(!e)return d(!1);try{let s=await e.projectCount(),t=[];for(let a=0;a<Number(s);a++){let s=await e.getProject(a);t.push({id:a,name:s[0],description:s[1],goal:s[2],imageUrl:s[3],creator:s[4],donorCount:Number(s[5]),isActive:s[7],createdAt:Number(s[8])})}r(t)}catch(e){console.error("Failed to load projects:",e)}finally{d(!1)}})()},[e]),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-12",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4 text-slate-900",children:"Charitable Projects"}),(0,a.jsx)("p",{className:"text-slate-600 text-lg",children:"Browse and support anonymous charitable projects"})]}),n||s?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"}),(0,a.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading projects..."})]}):0===t.length?(0,a.jsxs)("div",{className:"glass-card p-12 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDCE6"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"No Projects Yet"}),(0,a.jsx)("p",{className:"text-slate-600 mb-8",children:"Be the first to create a charitable project on PhilanthroVeil!"}),(0,a.jsx)(l(),{href:"/projects/create",className:"btn-primary px-8 py-3 inline-block",children:"➕ Create First Project"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:t.map(e=>(0,a.jsxs)("div",{className:"glass-card p-6 hover:shadow-xl transition-shadow flex flex-col",children:[e.imageUrl&&(0,a.jsx)("div",{className:"mb-4 h-48 rounded-lg overflow-hidden bg-slate-200",children:(0,a.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none"}})}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2 text-slate-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mb-4 flex-grow line-clamp-3",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,a.jsxs)("span",{children:["\uD83D\uDC65 ",e.donorCount," donors"]}),(0,a.jsx)("span",{children:e.isActive?(0,a.jsx)("span",{className:"text-green-600 font-medium",children:"● Active"}):(0,a.jsx)("span",{className:"text-red-600 font-medium",children:"● Closed"})})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:["Created: ",new Date(1e3*e.createdAt).toLocaleDateString()]})]}),(0,a.jsx)(l(),{href:"/projects/".concat(e.id),className:"btn-primary text-sm px-4 py-2 text-center block",children:"View Details"})]},e.id))}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(l(),{href:"/projects/create",className:"btn-primary px-6 py-3 inline-block",children:"➕ Create New Project"})})]})]})})}}},e=>{e.O(0,[619,830,800,441,255,358],()=>e(e.s=1514)),_N_E=e.O()}]);