(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{472:(e,s,t)=>{Promise.resolve().then(t.bind(t,8827))},8827:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(5155),l=t(2115),c=t(2619),n=t.n(c),r=t(3139),i=t(2800);function d(){let{accounts:e,connect:s,isConnected:t}=(0,r.h)(),{contract:c}=(0,i.L)(),[d,o]=(0,l.useState)([]),[x,m]=(0,l.useState)(!1),h=null==e?void 0:e[0],j=async()=>{try{s()}catch(e){console.error("Failed to connect wallet:",e)}};return((0,l.useEffect)(()=>{(async()=>{if(c&&h){m(!0);try{let e=await c.getUserProjects(h),s=[];for(let t of e){let e=await c.getProject(t);s.push({projectId:Number(t),projectName:e[0],projectDescription:e[1]})}o(s)}catch(e){console.error("Failed to load donations:",e)}finally{m(!1)}}})()},[c,h]),t&&h)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-8 text-slate-900",children:"My Donations"}),(0,a.jsx)("div",{className:"glass-card p-6 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Connected Wallet"}),(0,a.jsxs)("p",{className:"font-mono text-lg font-semibold text-slate-900",children:[h.slice(0,10),"...",h.slice(-8)]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Projects Supported"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:d.length})]})]})}),x?(0,a.jsxs)("div",{className:"glass-card p-12 text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"â³"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Loading your donations..."})]}):0===d.length?(0,a.jsxs)("div",{className:"glass-card p-12 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDCB8"}),(0,a.jsx)("p",{className:"text-xl text-slate-600 mb-4",children:"You haven't made any donations yet."}),(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-8",children:"Start supporting projects and make a difference!"}),(0,a.jsx)(n(),{href:"/projects",className:"btn-primary px-8 py-3 inline-block",children:"Browse Projects"})]}):(0,a.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,a.jsx)(n(),{href:"/projects/".concat(e.projectId),className:"block",children:(0,a.jsx)("div",{className:"glass-card p-6 hover:shadow-xl transition-all",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:e.projectName}),(0,a.jsx)("p",{className:"text-sm text-slate-600 line-clamp-2",children:e.projectDescription})]}),(0,a.jsxs)("div",{className:"ml-6 flex flex-col items-end",children:[(0,a.jsx)("div",{className:"bg-blue-100 text-blue-700 px-4 py-2 rounded-lg mb-2",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:"View Details"})}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"Click to view project & decrypt your donation"})]})]})})},e.projectId))}),d.length>0&&(0,a.jsx)("div",{className:"glass-card p-6 mt-8 bg-blue-50/70",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83D\uDD12"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-900 mb-1",children:"Privacy Protected"}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Your donation amounts are encrypted on-chain. Visit each project's detail page to decrypt and view your contribution amount."})]})]})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-8 text-slate-900",children:"My Donations"}),(0,a.jsxs)("div",{className:"glass-card p-12 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-6",children:"\uD83D\uDD10"}),(0,a.jsx)("p",{className:"text-xl text-slate-600 mb-4",children:"Connect your wallet to view your donation history."}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"All your donation amounts are encrypted for maximum privacy"}),(0,a.jsx)("button",{onClick:j,className:"btn-primary mt-8 px-8 py-3",children:"Connect Wallet"})]})]})})}}},e=>{e.O(0,[619,830,800,441,255,358],()=>e(e.s=472)),_N_E=e.O()}]);